@inherits BaseComponent

@using System.Linq.Expressions
@using MudBlazor
@using GC = FrontendServer.GlobalConstants;

<MudTextField Style="@GetStyle(Width)"
              Label="@label"
              Value="@Value"
              ValueChanged="@ValueChanged"
              ValueExpression="@ValueExpression"
              Variant=@MudVariant />

@code {
    [Parameter] public string LangCode { get; set; }
    [Parameter] public GC.TextFieldWidth Width { get; set; } = GC.TextFieldWidth.Medium;

    [Parameter] public string Value { get; set; }
    [Parameter] public EventCallback<string> ValueChanged { get; set; }
    [Parameter] public Expression<Func<string>> ValueExpression { get; set; }


    private string label;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await InitialiseBasePage();
            label = GetLabel(LangCode);
            StateHasChanged();
        }
    }

}
